# tech-blog-website Serena MCP Context

## Project Overview
**Name**: tech-blog-website
**Type**: Modern Technical Blog Platform
**Architecture**: Full-Stack Web Application (JAMstack + Headless CMS)
**Primary Language**: TypeScript
**Development Mode**: test_driven

## Technology Stack

### Frontend
- **Framework**: Next.js 15 (App Router)
- **Language**: TypeScript 5.3
- **UI Library**: React 18
- **Styling**: Tailwind CSS 3.4 + shadcn/ui
- **State Management**: Zustand 4.4
- **Forms**: React Hook Form + Zod validation
- **Markdown Editor**: @uiw/react-md-editor

### Backend
- **Database**: Supabase (PostgreSQL 15)
- **Authentication**: Supabase Auth (JWT)
- **File Storage**: Supabase Storage
- **Real-time**: Supabase Realtime API

### Development Environment
- **Package Manager**: pnpm 8
- **Testing Framework**: Jest + React Testing Library
- **E2E Testing**: Playwright
- **Type Checking**: TypeScript strict mode
- **Linting**: ESLint + Prettier
- **CI/CD**: GitHub Actions + Vercel

## TDD Standards

### Test Framework Configuration
- **Unit Testing**: Jest + React Testing Library
- **Integration Testing**: Jest + Supertest for API routes
- **E2E Testing**: Playwright
- **Test Structure**: Arrange-Act-Assert (AAA)
- **Naming Convention**: Descriptive test names (should_when_given format)
- **Coverage Requirements**: 95%+ coverage target

### TDD Patterns
- **Red Phase**: Write failing test first, ensure compilation requirements
- **Green Phase**: Minimal implementation to make tests pass
- **Refactor Phase**: Code improvement while maintaining test passes
- **Cycle Enforcement**: Strict TDD adherence with automated validation

### Test Organization
- **Unit Tests**: `src/tests/unit/` - Co-located with components
- **Integration Tests**: `src/tests/integration/` - API and service integration
- **E2E Tests**: `src/tests/e2e/` - Full user journey testing

## Development Patterns

### Component Architecture
```typescript
// Standard component structure
interface ComponentProps {
  // Props definition
}

const Component: React.FC<ComponentProps> = (props) => {
  // Implementation
}

export default Component
```

### API Route Patterns
```typescript
// API route structure
export async function GET(request: NextRequest) {
  // Implementation
}

export async function POST(request: NextRequest) {
  // Implementation with validation
}
```

### Error Handling
```typescript
// Standardized error handling
export class AppError extends Error {
  constructor(
    public code: string,
    public message: string,
    public statusCode: number = 500
  ) {
    super(message)
  }
}
```

## Coding Standards

### TypeScript Configuration
- **Strict Mode**: Enabled
- **No Any**: Avoid `any` type usage
- **Interface Over Type**: Prefer interfaces for object shapes
- **Explicit Return Types**: Required for functions

### Naming Conventions
- **Files**: kebab-case for files, PascalCase for components
- **Variables**: camelCase
- **Constants**: SCREAMING_SNAKE_CASE
- **Types/Interfaces**: PascalCase with descriptive names

### File Organization
```
src/
├── components/     # React components
│   ├── ui/        # Reusable UI components
│   ├── editor/    # Markdown editor components
│   ├── layout/    # Layout components
│   └── blog/      # Blog-specific components
├── pages/         # Next.js App Router pages
├── api/          # API routes
├── lib/          # Utility libraries and configurations
├── styles/       # Global styles and Tailwind config
├── tests/        # Test files organized by type
└── types/        # TypeScript type definitions
```

## Feature Implementation Guidelines

### 1. Article Management System
**Key Components**:
- `ArticleEditor` - Markdown editor with auto-save
- `ArticleList` - Article management interface
- `ArticleStatus` - Draft/Published status management

**TDD Focus**:
- Test CRUD operations
- Test auto-save functionality
- Test status transitions

### 2. Markdown Editor Integration
**Key Components**:
- `MarkdownEditor` - Main editor component
- `PreviewPane` - Real-time preview
- `ImageUpload` - Drag & drop file handling

**TDD Focus**:
- Test real-time preview updates
- Test image upload functionality
- Test keyboard shortcuts

### 3. SEO Optimization
**Key Components**:
- `MetaGenerator` - Dynamic meta tag generation
- `SitemapGenerator` - Automatic sitemap creation
- `StructuredData` - JSON-LD schema generation

**TDD Focus**:
- Test meta tag generation
- Test sitemap updates
- Test structured data output

### 4. Search & Content Management
**Key Components**:
- `SearchBar` - Full-text search interface
- `CategoryFilter` - Content filtering
- `TagCloud` - Tag-based navigation

**TDD Focus**:
- Test search functionality
- Test filtering logic
- Test pagination

### 5. Responsive UI & Performance
**Key Components**:
- `ResponsiveLayout` - Mobile-first design
- `ThemeProvider` - Dark/light mode
- `ImageOptimizer` - Performance optimization

**TDD Focus**:
- Test responsive breakpoints
- Test theme switching
- Test image optimization

## Quality Standards

### Code Quality
- **Test Coverage**: Minimum 95%
- **Type Safety**: 100% TypeScript coverage
- **Performance**: Core Web Vitals compliance
- **Accessibility**: WCAG 2.1 AA compliance
- **Security**: Input validation and sanitization

### Review Criteria
- **Functionality**: All acceptance criteria met
- **Performance**: Sub-2-second page loads
- **Accessibility**: Keyboard navigation support
- **SEO**: Proper meta tags and structured data
- **Mobile**: Responsive design verification

## Database Schema Context

### Core Tables
- `profiles` - User management
- `posts` - Article storage with full-text search
- `categories` - Content categorization
- `tags` - Article tagging system
- `comments` - User engagement
- `post_analytics` - Performance tracking

### Key Relationships
- Users have many posts (1:n)
- Posts belong to categories (n:1)
- Posts have many tags (n:n)
- Posts have many comments (1:n)

## API Endpoints

### Article Management
- `GET /api/posts` - List articles with pagination
- `POST /api/posts` - Create new article
- `PUT /api/posts/[id]` - Update article
- `DELETE /api/posts/[id]` - Delete article

### File Management
- `POST /api/upload` - Image upload with optimization
- `DELETE /api/upload/[filename]` - Remove uploaded file

### Search & Analytics
- `GET /api/search?q=query` - Full-text search
- `GET /api/analytics/[postId]` - Article analytics

## Deployment Configuration

### Vercel Settings
- **Build Command**: `pnpm build`
- **Output Directory**: `.next`
- **Install Command**: `pnpm install`
- **Node Version**: 18.x

### Environment Variables
- `NEXT_PUBLIC_SUPABASE_URL`
- `NEXT_PUBLIC_SUPABASE_ANON_KEY`
- `SUPABASE_SERVICE_ROLE_KEY`
- `NEXTAUTH_SECRET`
- `NEXTAUTH_URL`

This context provides comprehensive understanding for TDD-first development of the tech-blog-website platform.